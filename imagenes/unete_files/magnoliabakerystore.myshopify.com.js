!function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.YPACookies,o=window.YPACookies=e();o.noConflict=function(){return window.YPACookies=n,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(o){function r(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+a}}function c(e,n){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var a=i[c].split("="),s=a.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var d=t(a[0]);if(s=(o.read||o)(s,d)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(r[d]=s,e===d)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return c(e,!1)},r.getJSON=function(e){return c(e,!0)},r.remove=function(t,n){i(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}(function(){})}),function(e,t,n,o,r){e[r]=e[r]||[];var i="10171051",c="true",a="";if(document){var s=document.getElementById("__vzmedia__customer_identifier");a=null!==s?s.textContent:""}function d(e){return"true"===c?e.variant_id:e.product_id}function u(){if(window.meta&&meta.page&&"product"===meta.page.pageType&&meta.product&&meta.product.variants){let t="true"===c?function(){let e=window.location.href;return new URL(e).searchParams.get("variant")}():meta.product.id;null==t&&(t="true"===c?meta.product.variants[0].id:meta.product.id),e[r].push({projectId:"10000",properties:{pixelId:i,qstrings:{et:"custom",ea:"ViewProduct",product_id:t},userHashedEmail:a}}),console.log("ViewProduct: "+t)}}if(e[r].push({projectId:"10000",properties:{pixelId:i,userHashedEmail:a}}),history.pushState=(e=>(function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),t}))(history.pushState),history.replaceState=(e=>(function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t}))(history.replaceState),window.addEventListener("popstate",()=>{window.dispatchEvent(new Event("locationchange"))}),window.addEventListener("locationchange",u),u(),window.Shopify&&Shopify.Checkout&&"thank_you"===Shopify.Checkout.step){for(var p=Shopify.checkout.line_items,f=[],l=0;l<p.length;l++)m(d(p[l]),0,-1),f.push(d(p[l]));e[r].push({projectId:"10000",properties:{pixelId:i,qstrings:{et:"custom",ea:"Purchase",gv:Shopify.checkout.total_price,product_id:f.join(",")},userHashedEmail:a}}),console.log("Purchase: product_id="+f.join(",")),console.log("Purchase: gv="+Shopify.checkout.total_price)}function h(){var e=new XMLHttpRequest;e.open("GET","/cart.js",!0),e.onload=function(){if(e.status>=200&&e.status<400)for(var t=JSON.parse(e.responseText),n=0;n<t.items.length;n++)v(d(t.items[n]));else console.log("get cart error")},e.onerror=function(){console.log("onerror occur")},e.send()}function m(e,t,n){YPACookies.set(e,t,{expires:n})}function v(t){"1"!==function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}(t)&&(e[r].push({projectId:"10000",properties:{pixelId:i,qstrings:{et:"custom",ea:"AddToCart",product_id:t},userHashedEmail:a}}),console.log("AddToCart: product_id="+t)),""!==t&&null!==t&&m(t,1,30)}h(),window.addEventListener("beforeunload",function(e){h()}),document.body&&document.body.addEventListener("click",function(e){h()});var w=t.createElement(n);w.src="https://s.yimg.com/wi/ytc.js",w.async=!0,w.onload=w.onreadystatechange=function(){var t,n=this.readyState,o=e[r];if(!n||"complete"==n||"loaded"==n)try{t=YAHOO.ywa.I13N.fireBeacon,e[r]=[],e[r].push=function(e){t([e])},t(o)}catch(e){}};var g=t.getElementsByTagName(n)[0];g.parentNode.insertBefore(w,g)}(window,document,"script",0,"dotq");